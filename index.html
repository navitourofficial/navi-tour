<!DOCTYPE html>
<html lang="ko">
<head>
  <!-- âœ… GitHub Pagesìš© ë™ì  BASE ì„¤ì • -->
<script>
Â  Â  (function () {
Â  Â  Â  const seg = location.pathname.split('/').filter(Boolean);
Â  Â  Â  const isGithub = location.hostname.endsWith('.github.io');
Â  Â  Â  
Â  Â  Â  // [1] base ê²½ë¡œ ê³„ì‚° (ê¸°ì¡´ ë¡œì§ ìœ ì§€)
Â  Â  Â  const base = (isGithub && seg.length > 0)
Â  Â  Â  Â  ? '/' + seg[0] + '/' Â  // í”„ë¡œì íŠ¸ í˜ì´ì§€: "/repo/"
Â  Â  Â  Â  : '/'; Â  Â  Â  Â  Â  Â  Â  Â  // ë¡œì»¬/ì‚¬ìš©ìí˜ì´ì§€: "/"
        
Â  Â  Â  // [2] base íƒœê·¸ ì‚½ì… (ê¸°ì¡´ ë¡œì§ ìœ ì§€)
Â  Â  Â  const b = document.createElement('base');
Â  Â  Â  b.setAttribute('href', base);
Â  Â  Â  document.head.prepend(b);
      
      // ğŸš€ [3] ì¶”ê°€: ê³„ì‚°ëœ base ê²½ë¡œë¥¼ body ë°ì´í„°ì…‹ì— ì €ì¥
      // (ë‹¤ë¥¸ ìŠ¤í¬ë¦½íŠ¸ì—ì„œ fetch ê²½ë¡œë¥¼ ë§Œë“¤ ë•Œ ì‚¬ìš©í•˜ê¸° ìœ„í•¨)
      document.body.dataset.basePath = base;
Â  Â  })();
Â  </script>

  <!-- âœ… layout.html ë¡œë” (í—¤ë”/ì „ì²´ë©”ë‰´/í‘¸í„° ìë™ í¬í•¨) -->
  <script>
    (async function injectLayout() {
      try {
        const res = await fetch('layout/layout.html', { cache: 'no-store' });
        const html = await res.text();
        const doc  = new DOMParser().parseFromString(html, 'text/html');

        const $headerTpl = doc.getElementById('layout-header');
        const $footerTpl = doc.getElementById('layout-footer');
        const $scriptTpl = doc.getElementById('layout-script');

        const headerFrag = $headerTpl ? $headerTpl.content.cloneNode(true) : null;
        const footerFrag = $footerTpl ? $footerTpl.content.cloneNode(true) : null;

        const main = document.querySelector('main');
        if (headerFrag) {
          if (main) document.body.insertBefore(headerFrag, main);
          else document.body.prepend(headerFrag);
        }
        if (footerFrag) document.body.appendChild(footerFrag);

        if ($scriptTpl) {
          const inline = $scriptTpl.content.querySelector('script');
          if (inline) {
            const s = document.createElement('script');
            s.textContent = inline.textContent;
            document.body.appendChild(s);
          }
        }
      } catch (e) {
        console.error('layout include failed:', e);
      }
    })();
  </script>

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ì„œê°„ë„/ë¶ê°„ë„   ëª…í’ˆ ë¼ì¸ì—… | NAVI TOUR</title>
 <link rel="stylesheet" href="main/style.css">


  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&family=Noto+Sans+KR:wght@300;400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">

  <style>
    :root{
      --ink:#0e1f2c; --muted:#5f6b77; --line:#e7ebf0;
      --brand:#044b7d; --brand-d:#033c63; --bg:#f7f8fb; --card:#fff;
      --gold:#c6a24a; --shadow:0 12px 28px rgba(0,0,0,.08);
      --container-w:1200px;          /* ë³¸ë¬¸ ì»¨í…Œì´ë„ˆ í­ */
      --half:600px;                  /* ì»¨í…Œì´ë„ˆ ë°˜í­ */
      --sticky-offset:80px;          /* í—¤ë” ë³´ì • (JSì—ì„œ ê°±ì‹ ) */
    }
    *{box-sizing:border-box}
    body{font-family:'Noto Sans KR',sans-serif;color:var(--ink);background:#fff;}
    main{max-width:var(--container-w);margin:0 auto;padding:20px;}

    /* Hero */
    .hero{border-radius:18px;overflow:hidden;min-height:340px;color:#fff;
      background:linear-gradient(180deg,rgba(0,0,0,.55),rgba(0,0,0,.35)),url('image/banner_seogando.png') center/cover no-repeat;
      display:grid;place-items:center;text-align:center;box-shadow:var(--shadow);}
    .hero h1{font-family:'Playfair Display',serif;font-size:2.8rem;margin:0 0 6px;}
    .hero p{margin:0;opacity:.9}

    /* Concierge box */
    .concierge{
      margin-top:-30px;display:flex;align-items:center;gap:14px;background:#fff;
      border:1px solid var(--line);border-radius:14px;box-shadow:var(--shadow);
      padding:14px 18px;}
    .concierge i{color:var(--gold);font-size:1.3rem}
    .concierge .txt{flex:1}
    .concierge .cta{
      background:var(--gold);border:none;border-radius:10px;padding:10px 16px;color:#fff;font-weight:700;text-decoration:none}
    .concierge .cta:hover{background:#b18c32}

    /* ë³¸ë¬¸ 3ì—´ ê·¸ë¦¬ë“œ */
    .grid3{
      display:grid;
      grid-template-columns:repeat(3, minmax(0, 1fr));
      gap:18px;
      margin-top:28px;
    }
    @media (max-width:1024px){ .grid3{grid-template-columns:repeat(2,1fr);} }
    @media (max-width:640px){ .grid3{grid-template-columns:1fr;} }

    /* ì¹´ë“œ */
    .card{background:#fff;border:1px solid var(--line);border-radius:14px;overflow:hidden;box-shadow:var(--shadow);transition:.2s;}
    .card:hover{transform:translateY(-4px);}
    .thumb img{width:100%;aspect-ratio:16/10;object-fit:cover;display:block}
    .body{padding:14px;}
    .body h3{margin:0;font-size:1.1rem;}
    .body p{margin:6px 0;color:var(--muted);font-size:.9rem;}
    .tags{display:flex;flex-wrap:wrap;gap:6px;margin:8px 0;}
    .tag{border:1px solid #d9e0e7;border-radius:999px;padding:6px 10px;font-size:.85rem;color:#22303f;background:#fafbfd;}
    .tag i{margin-right:4px;color:#1f74b5;}
    .meta{display:flex;justify-content:space-between;align-items:center;margin-top:6px;}
    .price{font-weight:800;color:var(--brand);}
    .actions{display:flex;gap:8px;margin-top:10px;}
    .actions a{padding:8px 12px;border-radius:10px;text-decoration:none;font-size:.9rem;}
    .btn-ghost{border:1px solid #d9e0e7;background:#fff;color:#1c2b38;}
    .btn-main{border:1px solid var(--brand-d);background:var(--brand);color:#fff;}
    .add{margin-top:6px;font-size:.85rem;color:#687583;}

    /* ìš°ì¸¡ ì—¬ë°± ê³ ì • í•„í„° (ì»¨í…Œì´ë„ˆ ë°”ê¹¥) */
    .side-filter{
      position:fixed;
      left: calc(50% + var(--half) + (100vw - var(--container-w))/4);
      transform: translateX(-50%);
      top: calc(var(--sticky-offset) + 8px);
      width: 260px;
      background:#fff;border:1px solid var(--line);border-radius:14px;box-shadow:var(--shadow);
      padding:14px; z-index: 900;
    }
    .side-filter h3{font-size:1.05rem;margin:0 0 10px;}
    .field{display:flex;flex-direction:column;gap:4px;margin-bottom:10px}
    .sel,.ipt{padding:10px 12px;border:1px solid #d9e0e7;border-radius:10px;}
    .chips{display:flex;flex-wrap:wrap;gap:6px}
    .chip{padding:7px 12px;border:1px solid #d9e0e7;border-radius:999px;cursor:pointer;font-size:.9rem;color:#22303f;background:#fff}
    .chip.active{background:var(--brand);color:#fff;border-color:var(--brand-d)}
    .btn-apply{width:100%;padding:10px 0;background:var(--brand);border:none;border-radius:10px;color:#fff;font-weight:700;margin-top:6px}

    main{ padding-right: 20px; }
    @media (max-width:1400px){
      .side-filter{left:auto; right:20px; transform:none;}
      main{padding-right:300px;}
    }
    @media (max-width:960px){
      .side-filter{position:static; width:auto; margin:14px 0 0 0;}
      main{padding-right:20px;}
    }

    .bottom-box{
      margin:28px 0 40px; padding:20px;border:1px solid var(--line);
      background:#f9fafc;border-radius:14px;display:flex;align-items:center;justify-content:space-between;gap:10px;}
    .bottom-box b{color:#123a59}
    .bottom-box .btns{display:flex;gap:8px;}
    .bottom-box a{padding:10px 16px;border-radius:10px;text-decoration:none;font-weight:700;}
    .bottom-box .ask{background:var(--brand);color:#fff;}
    .bottom-box .pdf{background:#fff;color:#1e2b38;border:1px solid #d9e0e7;}
  </style>
</head>
<body>
  <main>
    <!-- Hero -->
    <section class="hero">
      <div>
                <h1>NAVI TOUR</h1>
                <p>ë‹¹ì‹ ì˜ ë‹¤ìŒ ë¹„ìƒì„ ìœ„í•œ ì´ì •í‘œ</p>
      </div>
    </section>

    <!-- ì½˜ì‹œì–´ì§€ ë°°ì • ì„œë¹„ìŠ¤ ë°•ìŠ¤ -->
    <div class="concierge">
      <i class="fa-solid fa-headset"></i>
      <div class="txt">
        <strong>ì½˜ì‹œì–´ì§€ ë°°ì • ì„œë¹„ìŠ¤</strong><br>
        ì „ ì¼ì • 1:1 ì–´ì‹œìŠ¤íŠ¸ Â· í˜¸í…” ì—…ê·¸ë ˆì´ë“œ ìƒë‹´ Â· ë¯¸ì‹ ë¼ì¸ì—… ì»¤ìŠ¤í„°ë§ˆì´ì§•
      </div>
      <a href="#" class="cta">ìƒë‹´ ì˜ˆì•½</a>
    </div>

    <!-- ìƒí’ˆ 3ì—´ ë¦¬ìŠ¤íŠ¸ -->
    <section class="grid3" id="list">
      <!-- âš ï¸ ì™¸ë¶€ íŒŒì¼(/main/main.products.html)ì—ì„œ ì¹´ë“œê°€ ì£¼ì…ë©ë‹ˆë‹¤ -->
    </section>

    <!-- í•˜ë‹¨ ë§ì¶¤ ì•ˆë‚´ ë°•ìŠ¤ -->
    <div class="bottom-box">
      <span><b>ë‹¨ì²´Â·í•™êµÂ·ê¸°ì—… ëŒ€ìƒ</b> ë§ì¶¤í˜• ì¼ì • ê°€ëŠ¥í•©ë‹ˆë‹¤. NAVI TOURì™€ í•¨ê»˜ ë‹¹ì‹ ë§Œì˜ ì—­ì‚¬ê¸°í–‰ì„ ì„¤ê³„í•´ ë³´ì„¸ìš”.</span>
      <div class="btns">
        <a href="#" class="ask"><i class="fa-regular fa-comment-dots"></i> ë¬¸ì˜í•˜ê¸°</a>
        <a href="#" class="pdf"><i class="fa-regular fa-file-lines"></i> PDF ê²¬ì ì„œ</a>
      </div>
    </div>
  </main>

  <!-- ìš°ì¸¡ ì—¬ë°± ê³ ì • í•„í„° -->
  <aside id="sideFilter" class="side-filter">
    <h3>ìƒí’ˆ í•„í„°</h3>
    <div class="field"><label>ì§€ì—­</label>
      <select class="sel" id="f-region">
        <option value="all">ì „ì²´</option>
        <option value="seogando">ì„œê°„ë„</option>
        <option value="bukgando">ë¶ê°„ë„</option>
      </select>
    </div>
    <div class="field"><label>ê¸°ê°„</label>
      <select class="sel" id="f-days">
        <option value="all">ì „ì²´</option>
        <option value="3">3ë°•4ì¼</option>
        <option value="4">4ë°•5ì¼</option>
        <option value="5">5ë°•6ì¼</option>
      </select>
    </div>
    <div class="field"><label>í‚¤ì›Œë“œ</label>
      <input type="search" class="ipt" id="q" placeholder="ì˜ˆ: ìœ¤ë™ì£¼, ë´‰ì˜¤ë™" />
    </div>
    <div class="field"><label>í…Œë§ˆ</label>
      <div class="chips" id="chips">
        <div class="chip active" data-theme="all">ì „ì²´</div>
        <div class="chip" data-theme="independence">ë…ë¦½ìš´ë™</div>
        <div class="chip" data-theme="literature">ë¬¸í•™</div>
        <div class="chip" data-theme="family">ê°€ì¡±</div>
      </div>
    </div>
    <button class="btn-apply" id="apply">í•„í„° ì ìš©</button>
  </aside>

  <script>
    function placeRightFilter(){
      const mainNav = document.querySelector('.main-nav');
      const subNav  = document.querySelector('.sub-nav');
      const header  = document.querySelector('header');
      const box     = document.getElementById('sideFilter');
      if(!box) return;

      let headerHeight = ((mainNav && mainNav.offsetHeight) || 0) + ((subNav && subNav.offsetHeight) || 0);
      if(!headerHeight) headerHeight = (header && header.offsetHeight) || 0;

      const OFFSET = Math.max(5, headerHeight);
      document.documentElement.style.setProperty('--sticky-offset', OFFSET + 'px');
      box.style.top = `calc(var(--sticky-offset) + 8px)`;
    }
    window.addEventListener('load', placeRightFilter);
    window.addEventListener('resize', placeRightFilter);
    window.addEventListener('scroll', placeRightFilter);

    /* ---------- ì™¸ë¶€ ìƒí’ˆ ì¹´ë“œ ë¡œë”© + ê°„ë‹¨ í•„í„° ---------- */
    const list      = document.getElementById('list');
    let cards       = [];
    const fR        = document.getElementById('f-region');
    const fD        = document.getElementById('f-days');
    const q         = document.getElementById('q');
    const chips     = document.getElementById('chips');
    const applyBtn  = document.getElementById('apply');
    let __productsLoaded = false;

    async function loadProducts(){
      if (__productsLoaded) return;
      try{
        // âœ… ê²½ë¡œ ìˆ˜ì •ë¨: ../main/main.products.html
        const res  = await fetch('main/main.products.html', { cache: 'no-store' });
        if (!res.ok) throw new Error('main.products.html ë¡œë“œ ì‹¤íŒ¨ ('+res.status+')');

        const html = await res.text();
        const doc  = new DOMParser().parseFromString(html, 'text/html');
        const tpl  = doc.getElementById('main-products');
        if(!tpl){ console.warn('main-products template not found.'); return; }

        list.innerHTML = '';
        list.appendChild(tpl.content.cloneNode(true));

        cards = Array.from(list.querySelectorAll('.card'));
        __productsLoaded = true;
        applyFilter();
      }catch(e){
        console.error('Failed to load products:', e);
        list.innerHTML = `<div style="padding:40px;text-align:center;color:#888;">ìƒí’ˆ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.<br>${e.message}</div>`;
      }
    }

    function applyFilter(){
      const region = fR.value;
      const days   = fD.value;
      const theme  = chips.querySelector('.chip.active')?.dataset.theme || 'all';
      const kw     = q.value.trim().toLowerCase();

      cards.forEach(c=>{
        const okR = (region==='all' || c.dataset.region===region);
        const okD = (days==='all'   || c.dataset.days===days);
        const okT = (theme==='all'  || c.dataset.theme===theme);
        const okK = !kw || (c.innerText.toLowerCase().includes(kw));
        c.style.display = (okR && okD && okT && okK) ? '' : 'none';
      });
    }

    chips.addEventListener('click', e=>{
      const chip = e.target.closest('.chip');
      if(!chip) return;
      chips.querySelectorAll('.chip').forEach(x=>x.classList.remove('active'));
      chip.classList.add('active');
    });
    applyBtn.addEventListener('click', applyFilter);
    fR.addEventListener('change', applyFilter);
    fD.addEventListener('change', applyFilter);
    q.addEventListener('keydown', e=>{ if(e.key==='Enter') applyFilter(); });

    window.addEventListener('DOMContentLoaded', loadProducts);
    window.applyFilter = applyFilter;
    window.cards = cards;
  </script>

          <!-- ====================== 2-3. ì¸ìš©ë¬¸(í›„ê¸°) ì„¹ì…˜ ====================== -->
        <section class="quote-section">
            <p>"ê·¸ ê¸¸ì„ ê±¸ìœ¼ë©°, ë‚˜ëŠ” ë‹¤ì‹œ í•œ ë²ˆ ì¡°êµ­ì„ ì‚¬ë‘í•˜ëŠ” ë²•ì„ ë°°ì› ë‹¤."</p> 
            <div class="author-info">
                <div class="signature">ìœ¤ë™ì£¼ ì‹œì¸</div> 
                <div class="author-image-placeholder"></div> 
                <div class="location">ëŒ€í•œë¯¼êµ­</div> 
            </div>
        </section>
    </main>

</body>
</html>
