<!DOCTYPE html>
<html lang="ko">
<head>
  <!-- âœ… GitHub Pagesìš© ë™ì  BASE ì„¤ì • -->
  <script>
    (function () {
      const seg = location.pathname.split('/').filter(Boolean);
      const base = (location.hostname.endsWith('.github.io') && seg.length > 0)
        ? '/' + seg[0] + '/'   // í”„ë¡œì íŠ¸ í˜ì´ì§€: "/repo/"
        : '/';                 // ë¡œì»¬/ì‚¬ìš©ìí˜ì´ì§€: "/"
      const b = document.createElement('base');
      b.setAttribute('href', base);
      document.head.prepend(b);
    })();
  </script>

  <!-- âœ… layout.html ë¡œë” (í—¤ë”/ì „ì²´ë©”ë‰´/í‘¸í„°/ì½˜í…ì¸  ë¸”ë¡ ìë™ í¬í•¨) -->
  <script>
    (async function injectLayout() {
      try {
        const res = await fetch('layout/layout.html', { cache: 'no-store' });
        const html = await res.text();
        const doc  = new DOMParser().parseFromString(html, 'text/html');

        const $headerTpl   = doc.getElementById('layout-header');
        const $footerTpl   = doc.getElementById('layout-footer');
        const $scriptTpl   = doc.getElementById('layout-script');
        const $concTpl     = doc.getElementById('layout-concierge');      // ğŸ‘ˆ ì¶”ê°€
        const $bottomTpl   = doc.getElementById('layout-bottom-cta');     // ğŸ‘ˆ ì¶”ê°€

        const headerFrag = $headerTpl ? $headerTpl.content.cloneNode(true) : null;
        const footerFrag = $footerTpl ? $footerTpl.content.cloneNode(true) : null;
        const concFrag   = $concTpl ? $concTpl.content.cloneNode(true) : null;
        const bottomFrag = $bottomTpl ? $bottomTpl.content.cloneNode(true) : null;

        const main = document.querySelector('main');
        if (headerFrag) {
          if (main) document.body.insertBefore(headerFrag, main);
          else document.body.prepend(headerFrag);
        }
        if (footerFrag) document.body.appendChild(footerFrag);

        // ğŸ‘‡ ìŠ¬ë¡¯ì— ì»´í¬ë„ŒíŠ¸ ì‚½ì…
        const concSlot   = document.getElementById('concierge-slot');
        const bottomSlot = document.getElementById('bottom-cta-slot');
        if (concSlot && concFrag) concSlot.replaceWith(concFrag);
        if (bottomSlot && bottomFrag) bottomSlot.replaceWith(bottomFrag);

        if ($scriptTpl) {
          const inline = $scriptTpl.content.querySelector('script');
          if (inline) {
            const s = document.createElement('script');
            s.textContent = inline.textContent;
            document.body.appendChild(s);
          }
        }
      } catch (e) {
        console.error('layout include failed:', e);
      }
    })();
  </script>

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>NAVI TOUR</title>
 <link rel="stylesheet" href="main/style.css">


  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&family=Noto+Sans+KR:wght@300;400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">

  <style>
    :root{
      --ink:#0e1f2c; --muted:#5f6b77; --line:#e7ebf0;
      --brand:#044b7d; --brand-d:#033c63; --bg:#f7f8fb; --card:#fff;
      --gold:#c6a24a; --shadow:0 12px 28px rgba(0,0,0,.08);
      --container-w:1200px;          /* ë³¸ë¬¸ ì»¨í…Œì´ë„ˆ í­ */
      --half:600px;                  /* ì»¨í…Œì´ë„ˆ ë°˜í­ */
      --sticky-offset:80px;          /* í—¤ë” ë³´ì • (JSì—ì„œ ê°±ì‹ ) */
    }
    *{box-sizing:border-box}
    body{font-family:'Noto Sans KR',sans-serif;color:var(--ink);background:#fff;}
    main{max-width:var(--container-w);margin:0 auto;padding:20px;}

    /* Hero */
    .hero{border-radius:18px;overflow:hidden;min-height:340px;color:#fff;
      background:linear-gradient(180deg,rgba(0,0,0,.55),rgba(0,0,0,.35)),url('image/bukgando_card/banner_bukgando.png') center/cover no-repeat;
      display:grid;place-items:center;text-align:center;box-shadow:var(--shadow);}
    .hero h1{font-family:'Playfair Display',serif;font-size:2.8rem;margin:0 0 6px;}
    .hero p{margin:0;opacity:.9}

    /* ë³¸ë¬¸ 3ì—´ ê·¸ë¦¬ë“œ */
/* ë³¸ë¬¸ ê·¸ë¦¬ë“œ: ëª¨ë°”ì¼ 1 â†’ íƒœë¸”ë¦¿ 2 â†’ ë©í†± 3 â†’ ë°ìŠ¤í¬í†± 4 */
.grid3{
  display:grid;
  gap:18px;
  margin-top:28px;
  grid-template-columns: 1fr;               /* ê¸°ë³¸(ëª¨ë°”ì¼): 1ì—´ */
}

@media (min-width:640px){
  .grid3{ grid-template-columns: repeat(2, 1fr); } /* íƒœë¸”ë¦¿: 2ì—´ */
}
@media (min-width:1024px){
  .grid3{ grid-template-columns: repeat(3, 1fr); } /* ë©í†±: 3ì—´ */
}
@media (min-width:1280px){
  .grid3{ grid-template-columns: repeat(4, 1fr); } /* ë°ìŠ¤í¬í†±: 4ì—´ */
}

    .card{background:#fff;border:1px solid var(--line);border-radius:14px;overflow:hidden;box-shadow:var(--shadow);transition:.2s;}
    .card:hover{transform:translateY(-4px);}
    .thumb img{width:100%;aspect-ratio:16/10;object-fit:cover;display:block}
    .body{padding:14px;}
    .body h3{margin:0;font-size:1.1rem;}
    .body p{margin:6px 0;color:var(--muted);font-size:.9rem;}
    .tags{display:flex;flex-wrap:wrap;gap:6px;margin:8px 0;}
    .tag{border:1px solid #d9e0e7;border-radius:999px;padding:6px 10px;font-size:.85rem;color:#22303f;background:#fafbfd;}
    .tag i{margin-right:4px;color:#1f74b5;}
    .meta{display:flex;justify-content:space-between;align-items:center;margin-top:6px;}
    .price{font-weight:800;color:var(--brand);}
    .actions{display:flex;gap:8px;margin-top:10px;}
    .actions a{padding:8px 12px;border-radius:10px;text-decoration:none;font-size:.9rem;}
    .btn-ghost{border:1px solid #d9e0e7;background:#fff;color:#1c2b38;}
    .btn-main{border:1px solid var(--brand-d);background:var(--brand);color:#fff;}
    .add{margin-top:6px;font-size:.85rem;color:#687583;}

    /* ìš°ì¸¡ ì—¬ë°± ê³ ì • í•„í„° (ì»¨í…Œì´ë„ˆ ë°”ê¹¥) */
    .side-filter{
      position:fixed;
      left: calc(50% + var(--half) + (100vw - var(--container-w))/4);
      transform: translateX(-50%);
      top: calc(var(--sticky-offset) + 8px);
      width: 260px;
      background:#fff;border:1px solid var(--line);border-radius:14px;box-shadow:var(--shadow);
      padding:14px; z-index: 900;
    }
    .side-filter h3{font-size:1.05rem;margin:0 0 10px;}
    .field{display:flex;flex-direction:column;gap:4px;margin-bottom:10px}
    .sel,.ipt{padding:10px 12px;border:1px solid #d9e0e7;border-radius:10px;}
    .chips{display:flex;flex-wrap:wrap;gap:6px}
    .chip{padding:7px 12px;border:1px solid #d9e0e7;border-radius:999px;cursor:pointer;font-size:.9rem;color:#22303f;background:#fff}
    .chip.active{background:var(--brand);color:#fff;border-color:var(--brand-d)}
    .btn-apply{width:100%;padding:10px 0;background:var(--brand);border:none;border-radius:10px;color:#fff;font-weight:700;margin-top:6px}

    main{ padding-right: 20px; }
    @media (max-width:1400px){
      .side-filter{left:auto; right:20px; transform:none;}
      main{padding-right:300px;}
    }
    @media (max-width:960px){
      .side-filter{position:static; width:auto; margin:14px 0 0 0;}
      main{padding-right:20px;}
    }
    /* ================== 4ì—´(â‰¥1280px) ë¹„ìœ¨ ë³´ì • ì˜¤ë²„ë¼ì´ë“œ ================== */
@media (min-width:1280px){
  /* 4ì—´ì—ì„œ ì¹´ë“œ ê°„ê²©, ëª¨ì„œë¦¬ */
  .grid3{ gap:14px; }                /* ê¸°ì¡´ 18px â†’ 14px */
  .card{ border-radius:12px; }       /* ì‚´ì§ ë” ì»´íŒ©íŠ¸ */

  /* ì¸ë„¤ì¼: ì„¸ë¡œ ì¡°ê¸ˆ ë” í™•ë³´(í…ìŠ¤íŠ¸ ê³µê°„ ì¤„ì—ˆìœ¼ë‹ˆ ì‹œê° ë°¸ëŸ°ìŠ¤ ë³´ì •) */
  .thumb img{
    aspect-ratio: 16 / 10;           /* ê¸°ì¡´ 16/10 â†’ ì•½ê°„ ë” ì„¸ë¡œ */
    object-fit: cover;
    display: block;
  }

  /* ì¹´ë“œ ë‚´ë¶€ íŒ¨ë”©/íƒ€ì´í¬ ì»´íŒ©íŠ¸ */
  .body{ padding:8px; }             /* ê¸°ì¡´ 14px â†’ 12px */
  .body h3{
    font-size: 1rem;                 /* ì œëª© 1.10rem â†’ 1.00rem */
    line-height: 1.35;
    letter-spacing: -0.2px;
    margin: 0;
  }
  .body p{
    font-size: .7rem;               /* ë³¸ë¬¸ 0.9rem â†’ 0.85rem */
    margin: 4px 0;
    color: var(--muted);
  }

  /* íƒœê·¸ì¹© ì»´íŒ©íŠ¸ */
  .tags{ gap:6px; margin:6px 0; }
  .tag{
    padding: 5px 8px;                /* 6px 10px â†’ 5px 8px */
    font-size: .60rem;               /* 0.85rem â†’ 0.80rem */
  }
  .tag i{ margin-right:4px; }

  /* ì•¡ì…˜ ì˜ì—­(ë²„íŠ¼/ê°€ê²©) ì»´íŒ©íŠ¸ */
  .actions{ gap:6px; margin-top:8px; }
  .actions a{
    padding: 7px 10px;               /* 8px 12px â†’ 7px 10px */
    font-size: .72rem;               /* 0.9rem â†’ 0.85rem */
    border-radius: 8px;              /* 10px â†’ 8px */
  }
  .price{
    font-size: .95rem;               /* ì•½ê°„ ì¶•ì†Œ */
    font-weight: 800;
  }
/* ================== ì•¡ì…˜ë²„íŠ¼ + ê°€ê²© ì •ë ¬ ë³´ì • ================== */
@media (min-width:1280px){
  .actions{
    display: flex;
    align-items: center;       /* âœ… ì„¸ë¡œ ì¤‘ì•™ì •ë ¬ */
    justify-content: space-between; /* ë²„íŠ¼ë¬¶ìŒ ì™¼ìª½, ê°€ê²© ì˜¤ë¥¸ìª½ */
    gap: 6px;
    margin-top: 8px;
  }

  .actions a{
    padding: 7px 10px;         /* âœ… ì„¸ë¡œí¬ê¸° ì¤„ì„ (ê¸°ì¡´ 8px â†’ 6px) */
    font-size: 0.85rem;
    line-height: 1;
    border-radius: 8px;
  }

  /* ë²„íŠ¼ 2ê°œ ë¬¶ìŒì€ ì™¼ìª½ ì •ë ¬, ê°€ê²©ì€ ì˜¤ë¥¸ìª½ ë¶™ê²Œ */
  .actions a + a {
    margin-right: auto;        /* âœ… ë‘ ë²ˆì§¸ ë²„íŠ¼ ì´í›„ ìë™ìœ¼ë¡œ ì™¼ìª½ ì •ë ¬ ìœ ì§€ */
  }

  .price{
    margin-left: auto;         /* âœ… ì˜¤ë¥¸ìª½ ëìœ¼ë¡œ ë°€ê¸° */
    font-weight: 800;
    color: var(--brand);
    font-size: 0.95rem;
    line-height: 1;            /* âœ… ë²„íŠ¼ ë†’ì´ì™€ ì‹œê°ì ìœ¼ë¡œ ë§ì¶¤ */
    align-self: center;        /* âœ… ìˆ˜ì§ ì¤‘ì•™ì •ë ¬ (í”Œë ‰ìŠ¤ ê¸°ì¤€) */
  }
}

  /* ì¶”ê°€ ì„¤ëª…(ë³´ì¡° í…ìŠ¤íŠ¸) */
  .add{
    font-size: .60rem;               /* 0.85rem â†’ 0.80rem */
    margin-top: 4px;
    color:#687583;
  }

  /* ìš°ì¸¡ í•„í„°ë„ ì‚´ì§ ì¶•ì†Œ(4ì—´ ê³µê°„ í™•ë³´ + ê· í˜•) */
  .side-filter{
    width: 240px;                    /* 260px â†’ 240px */
    padding: 12px;                   /* 14px â†’ 12px */
  }
  .side-filter h3{ font-size: 1rem; margin-bottom: 8px; }
  .field{ gap:4px; margin-bottom: 8px; }
  .sel,.ipt{ padding: 9px 10px; font-size: .95rem; border-radius: 9px; }
  .chips{ gap:6px; }
  .chip{
    padding: 6px 10px;               /* 7px 12px â†’ 6px 10px */
    font-size: .85rem;
  }
  .btn-apply{
    padding: 9px 0;                  /* 10px â†’ 9px */
    font-size: .95rem;
    border-radius: 9px;
  }
}

  </style>
</head>
<body>
  <main>
    <!-- Hero -->
    <section class="hero">
      <div>
        <h1>NAVI TOUR</h1>
        <p>ë‹¹ì‹ ì˜ ë‹¤ìŒ ë¹„ìƒì„ ìœ„í•œ ì´ì •í‘œ</p>
      </div>
    </section>

    <!-- ğŸ”½ ì½˜ì‹œì–´ì§€ ë°°ì • ì„œë¹„ìŠ¤ (ë ˆì´ì•„ì›ƒì—ì„œ ì£¼ì…) -->
    <div id="concierge-slot"></div>

    <!-- ìƒí’ˆ 3ì—´ ë¦¬ìŠ¤íŠ¸ -->
    <section class="grid3" id="list">
      <!-- âš ï¸ ì™¸ë¶€ íŒŒì¼(/main/main.products.html)ì—ì„œ ì¹´ë“œê°€ ì£¼ì…ë©ë‹ˆë‹¤ -->
    </section>

    <!-- ğŸ”½ í•˜ë‹¨ ë§ì¶¤ ì•ˆë‚´ ë°•ìŠ¤ (ë ˆì´ì•„ì›ƒì—ì„œ ì£¼ì…) -->
    <div id="bottom-cta-slot"></div>

  <!-- ìš°ì¸¡ ì—¬ë°± ê³ ì • í•„í„° -->
  <aside id="sideFilter" class="side-filter">
    <h3>ìƒí’ˆ í•„í„°</h3>
    <div class="field"><label>ì§€ì—­</label>
      <select class="sel" id="f-region">
        <option value="all">ì „ì²´</option>
        <option value="seogando">ì„œê°„ë„</option>
        <option value="bukgando">ë¶ê°„ë„</option>
      </select>
    </div>
    <div class="field"><label>ê¸°ê°„</label>
      <select class="sel" id="f-days">
        <option value="all">ì „ì²´</option>
        <option value="3">3ë°•4ì¼</option>
        <option value="4">4ë°•5ì¼</option>
        <option value="5">5ë°•6ì¼</option>
      </select>
    </div>
    <div class="field"><label>í‚¤ì›Œë“œ</label>
      <input type="search" class="ipt" id="q" placeholder="ì˜ˆ: ìœ¤ë™ì£¼, ë´‰ì˜¤ë™" />
    </div>
    <div class="field"><label>í…Œë§ˆ</label>
      <div class="chips" id="chips">
        <div class="chip active" data-theme="all">ì „ì²´</div>
        <div class="chip" data-theme="independence">ë…ë¦½ìš´ë™</div>
        <div class="chip" data-theme="literature">ë¬¸í•™</div>
        <div class="chip" data-theme="family">ê°€ì¡±</div>
      </div>
    </div>
    <button class="btn-apply" id="apply">í•„í„° ì ìš©</button>
  </aside>

  <script>
    function placeRightFilter(){
      const mainNav = document.querySelector('.main-nav');
      const subNav  = document.querySelector('.sub-nav');
      const header  = document.querySelector('header');
      const box     = document.getElementById('sideFilter');
      if(!box) return;

      let headerHeight = ((mainNav && mainNav.offsetHeight) || 0) + ((subNav && subNav.offsetHeight) || 0);
      if(!headerHeight) headerHeight = (header && header.offsetHeight) || 0;

      const OFFSET = Math.max(5, headerHeight);
      document.documentElement.style.setProperty('--sticky-offset', OFFSET + 'px');
      box.style.top = `calc(var(--sticky-offset) + 8px)`;
    }
    window.addEventListener('load', placeRightFilter);
    window.addEventListener('resize', placeRightFilter);
    window.addEventListener('scroll', placeRightFilter);

    /* ---------- ì™¸ë¶€ ìƒí’ˆ ì¹´ë“œ ë¡œë”© + ê°„ë‹¨ í•„í„° ---------- */
    const list      = document.getElementById('list');
    let cards       = [];
    const fR        = document.getElementById('f-region');
    const fD        = document.getElementById('f-days');
    const q         = document.getElementById('q');
    const chips     = document.getElementById('chips');
    const applyBtn  = document.getElementById('apply');
    let __productsLoaded = false;

    async function loadProducts(){
      if (__productsLoaded) return;
      try{
        // âœ… ê²½ë¡œ ìˆ˜ì •ë¨: ../main/main.products.html
        const res  = await fetch('main/main.products.html', { cache: 'no-store' });
        if (!res.ok) throw new Error('main.products.html ë¡œë“œ ì‹¤íŒ¨ ('+res.status+')');

        const html = await res.text();
        const doc  = new DOMParser().parseFromString(html, 'text/html');
        const tpl  = doc.getElementById('main-products');
        if(!tpl){ console.warn('main-products template not found.'); return; }

        list.innerHTML = '';
        list.appendChild(tpl.content.cloneNode(true));

        cards = Array.from(list.querySelectorAll('.card'));
        __productsLoaded = true;
        applyFilter();
      }catch(e){
        console.error('Failed to load products:', e);
        list.innerHTML = `<div style="padding:40px;text-align:center;color:#888;">ìƒí’ˆ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.<br>${e.message}</div>`;
      }
    }

    function applyFilter(){
      const region = fR.value;
      const days   = fD.value;
      const theme  = chips.querySelector('.chip.active')?.dataset.theme || 'all';
      const kw     = q.value.trim().toLowerCase();

      cards.forEach(c=>{
        const okR = (region==='all' || c.dataset.region===region);
        const okD = (days==='all'   || c.dataset.days===days);
        const okT = (theme==='all'  || c.dataset.theme===theme);
        const okK = !kw || (c.innerText.toLowerCase().includes(kw));
        c.style.display = (okR && okD && okT && okK) ? '' : 'none';
      });
    }

    chips.addEventListener('click', e=>{
      const chip = e.target.closest('.chip');
      if(!chip) return;
      chips.querySelectorAll('.chip').forEach(x=>x.classList.remove('active'));
      chip.classList.add('active');
    });
    applyBtn.addEventListener('click', applyFilter);
    fR.addEventListener('change', applyFilter);
    fD.addEventListener('change', applyFilter);
    q.addEventListener('keydown', e=>{ if(e.key==='Enter') applyFilter(); });

    window.addEventListener('DOMContentLoaded', loadProducts);
    window.applyFilter = applyFilter;
    window.cards = cards;
  </script>

          <!-- ====================== 2-3. ì¸ìš©ë¬¸(í›„ê¸°) ì„¹ì…˜ ====================== -->
        <section class="quote-section">
            <p>"ê·¸ ê¸¸ì„ ê±¸ìœ¼ë©°, ë‚˜ëŠ” ë‹¤ì‹œ í•œ ë²ˆ ì¡°êµ­ì„ ì‚¬ë‘í•˜ëŠ” ë²•ì„ ë°°ì› ë‹¤."</p> 
            <div class="author-info">
                <div class="signature">ìœ¤ë™ì£¼ ì‹œì¸</div> 
                <div class="author-image-placeholder"></div> 
                <div class="location">ëŒ€í•œë¯¼êµ­</div> 
            </div>
        </section>
    </main>

</body>
</html>
